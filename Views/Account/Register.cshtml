@{
    ViewData["Title"] = "Đăng Ký";
}

<div class="register-container">
    <div class="register-header">
        <div class="register-icon"><i class="fas fa-user-plus"></i></div>
        <h2>Đăng Ký Tài Khoản</h2>
    </div>
    <div class="register-body">
        <form asp-action="Register" method="post">
            <div class="form-row">
                <div class="form-group">
                    <label for="fullname" class="form-label">Họ và tên</label>
                    <div class="password-input-container">
                        <input type="text" id="fullname" name="fullname" class="form-input1" required>
                        <i class="fas fa-user input-icon"></i>
                    </div>
                </div>

                <div class="form-group">
                    <label for="student_id" class="form-label">Mã số sinh viên</label>
                    <div class="password-input-container">
                        <input type="text" id="student_id" name="student_id" class="form-input1" required>
                        <i class="fas fa-id-card input-icon"></i>
                    </div>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="email" class="form-label">Email</label>
                    <div class="password-input-container">
                        <input type="email" id="email" name="email" class="form-input" required>
                        <i class="fas fa-envelope input-icon"></i>
                    </div>
                </div>

                <div class="form-group">
                    <label for="phone" class="form-label">Số điện thoại</label>
                    <div class="password-input-container">
                        <input type="tel" id="phone" name="phone" class="form-input" required>
                        <i class="fas fa-phone input-icon"></i>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label for="password" class="form-label">Mật khẩu</label>
                <div class="password-input-container">
                    <input type="password" id="password" name="password" class="form-input" required>
                    <i class="fas fa-eye password-toggle" onclick="togglePassword('password')"></i>
                </div>
                <small class="password-hint">Mật khẩu cần có ít nhất 8 ký tự, bao gồm chữ hoa, chữ thường, số và ký tự đặc biệt</small>
            </div>

            <div class="form-group">
                <label for="confirm_password" class="form-label">Xác nhận mật khẩu</label>
                <div class="password-input-container">
                    <input type="password" id="confirm_password" name="confirm_password" class="form-input" required>
                    <i class="fas fa-eye password-toggle" onclick="togglePassword('confirm_password')"></i>
                </div>
                <small class="password-match-message"></small>
            </div>

            <div class="terms-container">
                <input type="checkbox" id="terms" name="terms" required>
                <label for="terms">Tôi đã đọc và đồng ý với <a href="#" class="terms-link">Điều khoản sử dụng</a> và <a href="#" class="terms-link">Chính sách bảo mật</a> của Thư Quán SV</label>
            </div>

            <button type="submit" class="btn btn-gradient btn-block">Đăng Ký</button>
        </form>

        <div class="form-footer">
            <p>Đã có tài khoản? <a asp-action="Login">Đăng nhập ngay</a></p>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        function togglePassword(id) {
            const input = document.getElementById(id);
            const icon = input.nextElementSibling;

            if (input.type === "password") {
                input.type = "text";
                icon.classList.replace("fa-eye", "fa-eye-slash");
            } else {
                input.type = "password";
                icon.classList.replace("fa-eye-slash", "fa-eye");
            }
        }

        // Kiểm tra mật khẩu khớp
        document.getElementById('confirm_password').addEventListener('input', function() {
            const password = document.getElementById('password').value;
            const confirmPassword = this.value;
            const message = document.querySelector('.password-match-message');

            if (password !== confirmPassword) {
                message.textContent = "Mật khẩu không khớp";
                message.style.color = "red";
            } else {
                message.textContent = "Mật khẩu khớp";
                message.style.color = "green";
            }
        });
    </script>
}